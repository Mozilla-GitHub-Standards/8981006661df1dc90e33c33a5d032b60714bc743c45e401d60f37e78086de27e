<!-- =================== Below form content STARTS =================== -->
</div>
</div>
</div>

<script src="https://sendto.mozilla.org/page/-/donation_form/js/parsley.min.js"></script>

<script>
  var
      $opt_in = $('label[for="opt_in"]'),
      $email = $('#email'),
      donator_email = donator_email || undefined,
      donator_name = donator_name || undefined;

  $('label').not('[for="opt_in"]').css('display', 'none');
  $opt_in.find('label').html(
      $opt_in.find('label').text()
          .replace('privacy policy', '<a href="https://mozilla.org/privacy/" target="_blank">privacy policy</a>')
  );
  $opt_in.find('label').prepend('<span class="required">*</span> ');
  $('#opt_in').attr('required', true);

  $email
      .attr('placeholder', 'youremail@example.com')
      .attr('aria-label', 'Email Address')
      .attr('required', true)
      .before('<i class="fa fa-envelope field-icon"></i>')
      .parent().css('position','relative');

  if (donator_email !== undefined) {
    $email.val(donator_email).attr('value',donator_email);
  }

  if (donator_name !== undefined) {
    $('#header-copy').find('h2').html('<em>Thank you</em>, ' + donator_name);
  }

  $('#signup').parsley().parsleyForm.subscribe("parsley:form:validate", function (formInstance) {
    if (!formInstance.isValid()) {
      formInstance.submitEvent.preventDefault();
    }

  });
</script>
<!-- =================== Below form content ENDS =================== -->
